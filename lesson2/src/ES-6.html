<meta charset="UTF-8">

<script>
    /**
     * У класса существует два вида методов:
     * 1) Методы объекта
     * 2) Методы класса, они обозначаются модификатором static
     * 
     */


     class Office{
        /**
         * В этом методе изменяем оклад сотрудника с учетом премии и взыскания
         * @param man - объект сотрудник для которого изменяем оклад
         * @param rate - процент от з/п. Если > 0, значит премия, а иначе взыскание
         */
        setRate(man,rate){
            console.log(rate > 0 ? `Сотруднику ${man.fio} начислена премия!` : `Сотрудник ${man.fio} получает взыскание!`)
            man.salary += man.salary * rate / 100;
        }
        /**
         * Получаем сотрудника с максимальным окладом
         * @param men - массив объектов сотрудников
         */
        static getManWithMaxSalary(men){
            let manMax = men[0];//пусть у первого сотрудника оклад максимальный
            for(let i = 1;i < men.length;i++){
                if(manMax.salary < men[i].salary){
                    manMax = men[i];
                }
            }
            return manMax;
        }

        static getManWithMinSalary(men){
            let manMin = men[0];//пусть у первого сотрудника оклад максимальный
            for(let i = 1;i < men.length;i++){
                if(manMax.salary > men[i].salary){
                    manMin = men[i];
                }
            }
            return manMin;
        }

    }
    

    class Person{
        /**
         * Конструктор - это метод, который запускается при создании объекта через оператор new
         * 
         * 
         * */
        constructor(fio,age,salary,id){
            this.fio = fio;
            this.age = age;
            this.id = id;
            this.salary = salary;
        }

        getInfo(){
            return `Сотруднику ${this.fio} ${this.age} лет. Его оклад ${this.salary}`;
        }
    }

    // Если в классе предке есть конструктор, то в потомке обязательно делаем конструктор и в нем
    // вызываем базовый конструктор с помощью оператора super()

    class Manager extends Person{
        constructor(fio,age,salary,id,role){
            super(fio,age,salary,id);
            this.role = role;
        }

        getInfo(){
            return `${super.getInfo()}. Сотрудник имеет роль: ${this.role}`;
        }
    }
        
    const manager = new Manager("Иванов",30,60000,1,"Руководитель компании");
    console.log(manager.getInfo());
    // const man1 = new Person("Иванов",30,60000,1);
    // const man2 = new Person("Петров",56,160000,2);
    // // alert(man2.getInfo());
    // const man3 = new Person("Сидоров",50,80000,3);

    // let office = [man1,man2,man3];
    // office.forEach(man => console.log(man.getInfo()));

    // const manMax = Office.getManWithMaxSalary(office);
    // const manMin = Office.getManWithMinSalary(office);
    // console.log(`Сотрудник ${manMax.fio} имеет максимальный оклад ${manMax.salary}`);
    // console.log(`Сотрудник ${manMin.fio} имеет минимальный оклад ${manMin.salary}`);

    // const RATE = 20;//данный процент либо добавим к окладу, либо вычтем
    // console.log("Оклады после применения коэффициента");
    // const motivation = new Office();
    // motivation.setRate(manMax,-RATE);
    // motivation.setRate(manMin,RATE);
    // office.forEach(man => console.log(man.getInfo()));
</script>